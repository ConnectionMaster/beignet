	SHADER test_private_memory

	VERSION_2_1

	DCL_THREADGROUP VARIABLE;

	DCL_UAVRAW u0, TRUE =
	{
	  KERNEL_ARGUMENT,0
	};

	DCL_TPM m0, 128;

	DCL_INPUT i0.xyz, THREAD_ID;

	DCL_TEMPS r0..r46;
	DCL_POINTERS ptr0..ptr7;
	ADDRESS_OF ptr0, u0;
	ADDRESS_OF ptr1, m0;


	MOV r46.x, 1;
	MOV r45.x, 1;
	MOV ptr2, ptr0;
	MOV r0.x, i0.x;
	MOV r7.x, 0;
	MOV r42.x, r7.x;
	LOOP;
	MOV r1.x, r42.x;
	MOV r8.x, 32;
	ICMP.lt r9.x, r1.x, r8.x;
	AND r9.x, r9.x, 0x1;
	MOV r45.x, r9.x;
	BREAK_CND.z r9.x;
	IADD r2.x, r1.x, 1;
	IADD r11.x, r1.x, r0.x;
	MOV ptr3, ptr1;
	SHL r12.x, r1.x, 2;
	SAR r13.x, r1.x, 31;
	SHL r14.x, r13.x, 2;
	SHR r15.x, r1.x, 30;
	OR r16.x, r14.x, r15.x;
	MOV r17.x, 0;
	MOV_SWZ r18, r12.x, r16.x, r17.x, r17.x;
	MOV r19.xy, r18;
	MOV r20.xy, r19.xyxy;
	PADD ptr4, ptr3, r20.x;
	STORE_RAW_PTR ptr4.x, r11.x;
	MOV r42.x, r2.x;
	ENDLOOP;
	MOV r10.x, 0;
	MOV r43.x, r10.x;
	MOV r44.x, r10.x;
	LOOP;
	MOV r3.x, r43.x;
	MOV r4.x, r44.x;
	MOV r21.x, 31;
	ICMP.gt r22.x, r3.x, r21.x;
	AND r22.x, r22.x, 0x1;
	MOV r46.x, r22.x;
	XOR r46.x, r46.x, 1;
	BREAK_CND.nz r22.x;
	MOV ptr5, ptr1;
	SHL r23.x, r3.x, 2;
	SAR r24.x, r3.x, 31;
	SHL r25.x, r24.x, 2;
	SHR r26.x, r3.x, 30;
	OR r27.x, r25.x, r26.x;
	MOV r28.x, 0;
	MOV_SWZ r29, r23.x, r27.x, r28.x, r28.x;
	MOV r30.xy, r29;
	MOV r31.xy, r30.xyxy;
	PADD ptr6, ptr5, r31.x;
	LD_RAW_PTR r32.x, ptr6;
	IADD r5.x, r4.x, r32.x;
	IADD r6.x, r3.x, 1;
	MOV r43.x, r6.x;
	MOV r44.x, r5.x;
	ENDLOOP;
	SHL r33.x, r0.x, 2;
	SAR r34.x, r0.x, 31;
	SHL r35.x, r34.x, 2;
	SHR r36.x, r0.x, 30;
	OR r37.x, r35.x, r36.x;
	MOV r38.x, 0;
	MOV_SWZ r39, r33.x, r37.x, r38.x, r38.x;
	MOV r40.xy, r39;
	MOV r41.xy, r40.xyxy;
	PADD ptr7, ptr2, r41.x;
	STORE_RAW_PTR ptr7.x, r4.x;
	RET;

	END
